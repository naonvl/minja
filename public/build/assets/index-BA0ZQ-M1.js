import{_ as M}from"./VCheckboxBtn-CLUSfk7K.js";import{_ as L}from"./AppSelect.vue_vue_type_script_setup_true_lang-yQyeXNaI.js";import{_ as j}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-IBRP9HWR.js";import{u as O}from"./useApi-CQU_VL0x.js";import{$ as E}from"./api-C2J-NmL_.js";import{V as J}from"./VDialog-C3Szljsi.js";import{d as F,r as d,o as G,g as K,f as a,b as e,e as V,a6 as y,s as Q,v as p,a0 as r,a as R}from"./main-Cw_rNav5.js";import{V as B}from"./VCard-BO0mHF_T.js";import{V as T}from"./VCardText-DgJEIEfc.js";import{V as x,a as c}from"./VRow-B-H4ECCK.js";import{V as q,b as w,a as z,c as D}from"./VWindowItem-BLkn4nUa.js";import{V as k}from"./VDataTableServer--20D3Cgk.js";import"./VTextField-YOzaYF7_.js";import"./index-esyx9PPF.js";import"./VImg-CSqWznxm.js";import"./VOverlay-BkLxlIre.js";import"./VSelect-g_9WCqB2.js";import"./VList-Dwae-fnM.js";import"./VAvatar-QhnxoGsn.js";import"./VDivider-CpzLdSvi.js";import"./VMenu-D-fwDrhc.js";import"./VChip-CGeF-Vhz.js";import"./index-BYrzgnBV.js";/* empty css              */const H={class:"d-flex justify-sm-space-between"},X=V("div",null,[V("h4",{class:"text-h4 mb-1"},"Data Master"),V("p",{class:"text-body-1 mb-0"}," Definisikan data data master untuk aplikasi ")],-1),Y=V("div",{class:"d-flex justify-content-between"},"Tugas",-1),ye=F({__name:"index",setup(Z){const u=d(!1),C=["Departemen","Tugas","Produk","Brand"],f=d("window-1"),h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),P=[{title:"Nama Tugas",key:"name",width:h?"55%":"80%",maxWidth:"100%"},{title:"Tugas",key:"actions",sortable:!1}],s=d({name:"",tipeData:"Select Item"}),N=[{title:"Nama Departemen",key:"name",width:h?"55%":"80%",maxWidth:"100%"},{title:"Tugas",key:"actions",sortable:!1}],S=[{title:"Nama Brand",key:"name",width:h?"55%":"80%",maxWidth:"100%"},{title:"Tugas",key:"actions",sortable:!1}],I=[{title:"Nama Produk",key:"name",width:h?"55%":"80%",maxWidth:"100%"},{title:"Tugas",key:"actions",sortable:!1}],g=d([{id:1,name:"Buang Benang"},{id:2,name:"Kecos"}]),v=d([{id:1,name:"Jahit"},{id:2,name:"QC"},{id:3,name:"Potong"}]),_=d([]),b=d([]),$=async()=>{try{const o=await E("/data-masters",{method:"POST",body:{name:s.value.name,tipeData:s.value.tipeData}});if(o.data)switch(f.value){case"window-1":g.value=[...g.value,{id:o.data.id,name:o.data.name}];break;case"window-2":v.value=[...v.value,{id:v.value.length+1,name:s.value.name}];break;case"window-3":_.value=[..._.value,{id:_.value.length+1,name:s.value.name}];break;default:b.value=[...b.value,{id:b.value.length+1,name:s.value.name}]}else console.error(o.error)}catch(o){console.error(o)}finally{s.value.name="",s.value.tipeData="",u.value=!1}},U=async()=>{try{const o=await O("/data-masters?all=1",{method:"GET"});if(o.data.value){const m=(await o.data.value).data;g.value=m.filter(n=>n.type_master_data==="task"),v.value=m.filter(n=>n.type_master_data==="department"),_.value=m.filter(n=>n.type_master_data==="produk"),b.value=m.filter(n=>n.type_master_data==="brand")}else console.error(o.error)}catch(o){console.error(o)}},W=o=>{console.log(o)};return U(),(o,l)=>{const m=j,n=L,A=M,i=R("IconBtn");return G(),K(x,null,{default:a(()=>[e(c,{cols:"12"},{default:a(()=>[V("div",H,[X,e(J,{modelValue:u.value,"onUpdate:modelValue":l[5]||(l[5]=t=>u.value=t),persistent:"",width:"600"},{activator:a(({props:t})=>[e(y,Q(t,{"prepend-icon":"tabler-plus"}),{default:a(()=>[p(" Tambah Data ")]),_:2},1040)]),default:a(()=>[e(m,{onClick:l[0]||(l[0]=t=>u.value=!u.value)}),e(B,{title:"Tambah Data"},{default:a(()=>[e(T,null,{default:a(()=>[e(x,null,{default:a(()=>[e(c,{cols:"12",sm:"6"},{default:a(()=>[e(n,{onChange:W,items:C,modelValue:s.value.tipeData,"onUpdate:modelValue":l[1]||(l[1]=t=>s.value.tipeData=t),label:"Tipe Data",placeholder:"Select Item"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:a(()=>[e(A,{modelValue:s.value.name,"onUpdate:modelValue":l[2]||(l[2]=t=>s.value.name=t),label:"Nama "+s.value.tipeData,placeholder:"John"},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1}),e(T,{class:"d-flex justify-end flex-wrap gap-3"},{default:a(()=>[e(y,{variant:"tonal",color:"secondary",modelValue:s.value.tipeData,"onUpdate:modelValue":l[3]||(l[3]=t=>s.value.tipeData=t),onClick:l[4]||(l[4]=t=>u.value=!1)},{default:a(()=>[p(" Tutup ")]),_:1},8,["modelValue"]),e(y,{onClick:$},{default:a(()=>[p(" Simpan ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),e(c,{cols:"12"},{default:a(()=>[e(x,null,{default:a(()=>[e(c,{sm:"3",cols:"12"},{default:a(()=>[e(q,{modelValue:f.value,"onUpdate:modelValue":l[6]||(l[6]=t=>f.value=t),direction:"vertical",class:"v-tabs-pill"},{default:a(()=>[e(w,null,{default:a(()=>[Y]),_:1}),e(w,null,{default:a(()=>[p(" Departemen ")]),_:1}),e(w,null,{default:a(()=>[p(" Produk ")]),_:1}),e(w,null,{default:a(()=>[p(" Brand ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(c,{sm:"9",cols:"12"},{default:a(()=>[e(B,null,{default:a(()=>[e(T,null,{default:a(()=>[e(z,{modelValue:f.value,"onUpdate:modelValue":l[7]||(l[7]=t=>f.value=t)},{default:a(()=>[e(D,{value:"window-1"},{default:a(()=>[e(k,{itemsLength:5,headers:P,items:g.value,"items-per-page":5},{"item.actions":a(({item:t})=>[e(i,null,{default:a(()=>[e(r,{icon:"tabler-edit"})]),_:1}),e(i,null,{default:a(()=>[e(r,{icon:"tabler-trash"})]),_:1})]),_:1},8,["items"])]),_:1}),e(D,{value:"window-2"},{default:a(()=>[e(k,{itemsLength:5,headers:N,items:v.value,"items-per-page":5},{"item.actions":a(({item:t})=>[e(i,null,{default:a(()=>[e(r,{icon:"tabler-edit"})]),_:1}),e(i,null,{default:a(()=>[e(r,{icon:"tabler-trash"})]),_:1})]),_:1},8,["items"])]),_:1}),e(D,{value:"window-3"},{default:a(()=>[e(k,{itemsLength:5,headers:I,items:_.value,"items-per-page":5},{"item.actions":a(({item:t})=>[e(i,null,{default:a(()=>[e(r,{icon:"tabler-edit"})]),_:1}),e(i,null,{default:a(()=>[e(r,{icon:"tabler-trash"})]),_:1})]),_:1},8,["items"])]),_:1}),e(D,{value:"window-3"},{default:a(()=>[e(k,{itemsLength:5,headers:S,items:b.value,"items-per-page":5},{"item.actions":a(({item:t})=>[e(i,null,{default:a(()=>[e(r,{icon:"tabler-edit"})]),_:1}),e(i,null,{default:a(()=>[e(r,{icon:"tabler-trash"})]),_:1})]),_:1},8,["items"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{ye as default};
