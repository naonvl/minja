import{_ as F}from"./TablePagination.vue_vue_type_script_setup_true_lang-BNEkSpQe.js";import{_ as Q}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-BsI36D9d.js";import{_ as q}from"./VCheckboxBtn-DiLsK4eN.js";import{_ as H}from"./AppSelect.vue_vue_type_script_setup_true_lang-So7br5VA.js";import{d as W,ai as X,r as n,o as m,g as v,f as l,b as t,v as u,e as V,n as d,z as p,c as B,a6 as C,s as Y,x as g,a0 as x,a as I}from"./main-B2WEe81J.js";import{u as N}from"./useApi-BabNtHO2.js";import{$ as Z}from"./api-D7Sbza_t.js";import{b as ee,a as ae,V as A}from"./VCard-CaverGLM.js";import{V as E}from"./VDivider-Dt6kjG2N.js";import{V as te}from"./VSpacer-Cug3-14K.js";import{V as le}from"./VDialog-BJAmW6Lf.js";import{V as P}from"./VCardText-DrnRXWvI.js";import{V as oe,a as c}from"./VRow-auN7L6VZ.js";import{V as se}from"./VChip-CupD9HrZ.js";import{V as ne}from"./VDataTableServer-CYFpRrSJ.js";import"./VTextField-CjC65A_M.js";import"./index-DGoEMpsi.js";import"./VImg-BOzXS1DE.js";import"./VOverlay-ERQIqi3h.js";import"./VSelect-C2_os33n.js";import"./VList-BONENLCo.js";import"./VAvatar-BXms5E61.js";import"./VMenu-BcbDcJR3.js";import"./index-BYrzgnBV.js";/* empty css              */const re={class:"me-3 d-flex gap-3"},ie={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},me={key:0,style:{"inline-size":"15.625rem"}},ue={class:"d-flex align-center gap-x-4"},de={class:"d-flex flex-column"},pe={class:"text-base"},ce={key:1,class:"font-weight-medium text-link"},Je=W({__name:"index",setup(fe){const z=X("userData").value,_=JSON.parse(JSON.stringify(z)),i=n(!1),f=n(10),w=n(1);n();const o=n({username:"",fullname:"",email:"",department:"Select Item",password:"",confirmPassword:""});n();const h=n(""),U=n([]),L=[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],D=n(5),M=[{title:"#",key:"number",width:"5%"},{title:"Nama",key:"id"},{title:"Departemen",key:"department"},{title:"Status",key:"status"},{title:"Aksi",key:"actions",sortable:!1,width:"10%"}];function b(s){console.log(`Delete user with ID ${s}`)}const O=s=>{const a=s.toLowerCase();return a==="pending"?"warning":a==="active"?"success":a==="inactive"?"secondary":"primary"},S=n([]),J=async()=>{const y=(await(await N("/data-masters?tipeData=department",{method:"GET"})).data.value).data.map(r=>({title:r.name,value:r.id}));S.value=y,i.value=!0},K=async()=>{if(console.log(o.value),!(o.value.confirmPassword==""||o.value.confirmPassword!=o.value.password))try{const s=await Z("/employees",{method:"POST",body:{fullname:o.value.fullname,department:o.value.department,email:o.value.email,password:o.value.password,username:o.value.username}});s.data?(console.log(s.data),i.value=!1):console.error(s.error)}catch(s){console.error(s)}finally{}},T=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return(async()=>{try{const s=await N("/employees",{method:"GET"});if(s.data.value){const a=await s.data.value;console.log(a),U.value=a.data}}catch(s){console.error(s)}})(),(s,a)=>{const y=H,r=q,R=Q,j=I("RouterLink"),k=I("IconBtn"),G=F;return m(),v(A,{class:"mb-6"},{default:l(()=>[t(ae,{class:"pb-4"},{default:l(()=>[t(ee,null,{default:l(()=>[u("Daftar Karyawan")]),_:1})]),_:1}),t(E),t(P,{class:"d-flex flex-wrap gap-4"},{default:l(()=>[V("div",re,[t(y,{"model-value":f.value,items:L,style:{"inline-size":"6.25rem"},"onUpdate:modelValue":a[0]||(a[0]=e=>f.value=parseInt(e,10))},null,8,["model-value"])]),d(T)?p("",!0):(m(),v(te,{key:0})),V("div",ie,[d(T)?p("",!0):(m(),B("div",me,[t(r,{modelValue:h.value,"onUpdate:modelValue":a[1]||(a[1]=e=>h.value=e),placeholder:"Search User"},null,8,["modelValue"])])),d(_).user_type=="admin"?(m(),v(le,{key:1,modelValue:i.value,"onUpdate:modelValue":a[10]||(a[10]=e=>i.value=e),persistent:"",width:"600"},{activator:l(({props:e})=>[t(C,Y({onClick:J},e,{"prepend-icon":"tabler-plus"}),{default:l(()=>[u(" Tambah Karyawan ")]),_:2},1040)]),default:l(()=>[t(R,{onClick:a[2]||(a[2]=e=>i.value=!i.value)}),t(A,{title:"Tambah Karyawan"},{default:l(()=>[t(P,null,{default:l(()=>[t(oe,null,{default:l(()=>[t(c,{cols:"12",sm:"6"},{default:l(()=>[t(r,{modelValue:o.value.fullname,"onUpdate:modelValue":a[3]||(a[3]=e=>o.value.fullname=e),label:"Nama Lengkap",placeholder:"John"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",sm:"6"},{default:l(()=>[t(y,{modelValue:o.value.department,"onUpdate:modelValue":a[4]||(a[4]=e=>o.value.department=e),items:S.value,label:"Departemen",placeholder:"Select Item"},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",sm:"6"},{default:l(()=>[t(r,{modelValue:o.value.email,"onUpdate:modelValue":a[5]||(a[5]=e=>o.value.email=e),label:"Email",placeholder:"johndoe@email.com"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",sm:"6"},{default:l(()=>[t(r,{modelValue:o.value.username,"onUpdate:modelValue":a[6]||(a[6]=e=>o.value.username=e),label:"Username",placeholder:"John"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",sm:"6"},{default:l(()=>[t(r,{modelValue:o.value.password,"onUpdate:modelValue":a[7]||(a[7]=e=>o.value.password=e),label:"Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",sm:"6"},{default:l(()=>[t(r,{modelValue:o.value.confirmPassword,"onUpdate:modelValue":a[8]||(a[8]=e=>o.value.confirmPassword=e),label:"Confirm Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(P,{class:"d-flex justify-end flex-wrap gap-3"},{default:l(()=>[t(C,{variant:"tonal",color:"secondary",onClick:a[9]||(a[9]=e=>i.value=!1)},{default:l(()=>[u(" Tutup ")]),_:1}),t(C,{disabled:o.value.confirmPassword==""||o.value.password!==o.value.confirmPassword,onClick:K},{default:l(()=>[u(" Simpan ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):p("",!0)])]),_:1}),t(E),t(ne,{"items-per-page":f.value,"onUpdate:itemsPerPage":a[12]||(a[12]=e=>f.value=e),page:w.value,"onUpdate:page":a[13]||(a[13]=e=>w.value=e),items:U.value,"items-length":D.value,headers:M,class:"text-no-wrap"},{"item.number":l(({index:e})=>[u(g(e+1),1)]),"item.id":l(({item:e})=>[V("div",ue,[V("div",de,[V("h6",pe,[d(_).user_type=="admin"?(m(),v(j,{key:0,to:{name:"apps-user-view-id",params:{id:e.id}},class:"font-weight-medium text-link"},{default:l(()=>[u(g(e.fullname),1)]),_:2},1032,["to"])):p("",!0),d(_).user_type!="admin"?(m(),B("p",ce,g(e.fullname),1)):p("",!0)])])])]),"item.status":l(({item:e})=>[t(se,{color:O(e.status),size:"small",label:"",class:"text-capitalize"},{default:l(()=>[u(g(e.status),1)]),_:2},1032,["color"])]),"item.actions":l(({item:e})=>[t(k,{onClick:$=>b(e.id)},{default:l(()=>[t(x,{icon:"tabler-eye"})]),_:2},1032,["onClick"]),t(k,{onClick:$=>b(e.id)},{default:l(()=>[t(x,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),d(_).user_type=="admin"?(m(),v(k,{key:0,onClick:$=>b(e.id)},{default:l(()=>[t(x,{icon:"tabler-trash"})]),_:2},1032,["onClick"])):p("",!0)]),bottom:l(()=>[t(G,{page:w.value,"onUpdate:page":a[11]||(a[11]=e=>w.value=e),"items-per-page":f.value,"total-items":D.value},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})}}});export{Je as default};
