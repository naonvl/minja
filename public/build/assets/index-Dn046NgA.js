import{_ as Q}from"./TablePagination.vue_vue_type_script_setup_true_lang-BalBbob8.js";import{_ as q}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-DR9tYLu4.js";import{_ as H}from"./VCheckboxBtn-CLFp1Qrm.js";import{_ as W}from"./AppSelect.vue_vue_type_script_setup_true_lang-VC3tDBrR.js";import{d as X,ai as Y,r,o as u,g as v,f as o,b as t,v as m,e as V,n as d,z as p,c as I,a6 as C,s as Z,x as g,a0 as x,a as N}from"./main-CjhWd0RR.js";import{u as A}from"./useApi-DNxcJoEW.js";import{$ as ee}from"./api-KXaUEM7I.js";import{b as ae,a as te,V as E}from"./VCard-CPj4koLP.js";import{V as z}from"./VDivider-DMlqEqO8.js";import{V as le}from"./VSpacer-_eh2eSrf.js";import{V as oe}from"./VDialog-jtnCovWZ.js";import{V as P}from"./VCardText-Y8mTVUki.js";import{V as se,a as c}from"./VRow-BXhXyZ4Y.js";import{V as re}from"./VChip-BvR_Hkvf.js";import{V as ne}from"./VDataTableServer-CM8aA-P2.js";import"./VTextField-CTJ8KFQw.js";import"./index-B7BgF3AZ.js";import"./VImg-D-venaag.js";import"./VOverlay-gKh2FHNL.js";import"./VSelect-DFwwNRpV.js";import"./VList-CnJSRsO-.js";import"./VAvatar-DpZSgM_5.js";import"./VMenu-CMlf_oYX.js";import"./index-BYrzgnBV.js";/* empty css              */const ie={class:"me-3 d-flex gap-3"},ue={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},me={key:0,style:{"inline-size":"15.625rem"}},de={class:"d-flex align-center gap-x-4"},pe={class:"d-flex flex-column"},ce={class:"text-base"},fe={key:1,class:"font-weight-medium text-link"},Je=X({__name:"index",setup(ve){const L=Y("userData").value,_=JSON.parse(JSON.stringify(L)),i=r(!1),f=r(10),w=r(1);r();const l=r({username:"",fullname:"",email:"",department:"Select Item",password:"",confirmPassword:""});r();const U=r(""),h=r([]),M=[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],D=r(5),O=[{title:"#",key:"number",width:"5%"},{title:"Nama",key:"id"},{title:"Departemen",key:"department"},{title:"Status",key:"status"},{title:"Aksi",key:"actions",sortable:!1,width:"10%"}];function b(s){console.log(`Delete user with ID ${s}`)}const J=s=>{const a=s.toLowerCase();return a==="pending"?"warning":a==="active"?"success":a==="inactive"?"secondary":"primary"},S=r([]),K=async()=>{const y=(await(await A("/data-masters?tipeData=department",{method:"GET"})).data.value).data.map(n=>({title:n.name,value:n.id}));S.value=y,i.value=!0},R=async()=>{if(!(l.value.confirmPassword==""||l.value.confirmPassword!=l.value.password))try{const s=await ee("/employees",{method:"POST",body:{fullname:l.value.fullname,department:l.value.department,email:l.value.email,password:l.value.password,username:l.value.username}});s.data?($(),i.value=!1,l.value.fullname="",l.value.department="",l.value.email="",l.value.password="",l.value.confirmPassword="",l.value.username=""):console.error(s.error)}catch(s){console.error(s)}},T=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),$=async()=>{try{const s=await A("/employees",{method:"GET"});if(s.data.value){const a=await s.data.value;console.log(a),h.value=a.data}}catch(s){console.error(s)}};return $(),(s,a)=>{const y=W,n=H,j=q,G=N("RouterLink"),k=N("IconBtn"),F=Q;return u(),v(E,{class:"mb-6"},{default:o(()=>[t(te,{class:"pb-4"},{default:o(()=>[t(ae,null,{default:o(()=>[m("Daftar Karyawan")]),_:1})]),_:1}),t(z),t(P,{class:"d-flex flex-wrap gap-4"},{default:o(()=>[V("div",ie,[t(y,{"model-value":f.value,items:M,style:{"inline-size":"6.25rem"},"onUpdate:modelValue":a[0]||(a[0]=e=>f.value=parseInt(e,10))},null,8,["model-value"])]),d(T)?p("",!0):(u(),v(le,{key:0})),V("div",ue,[d(T)?p("",!0):(u(),I("div",me,[t(n,{modelValue:U.value,"onUpdate:modelValue":a[1]||(a[1]=e=>U.value=e),placeholder:"Search User"},null,8,["modelValue"])])),d(_).user_type=="admin"?(u(),v(oe,{key:1,modelValue:i.value,"onUpdate:modelValue":a[10]||(a[10]=e=>i.value=e),persistent:"",width:"600"},{activator:o(({props:e})=>[t(C,Z({onClick:K},e,{"prepend-icon":"tabler-plus"}),{default:o(()=>[m(" Tambah Karyawan ")]),_:2},1040)]),default:o(()=>[t(j,{onClick:a[2]||(a[2]=e=>i.value=!i.value)}),t(E,{title:"Tambah Karyawan"},{default:o(()=>[t(P,null,{default:o(()=>[t(se,null,{default:o(()=>[t(c,{cols:"12",sm:"6"},{default:o(()=>[t(n,{modelValue:l.value.fullname,"onUpdate:modelValue":a[3]||(a[3]=e=>l.value.fullname=e),label:"Nama Lengkap",placeholder:"John"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",sm:"6"},{default:o(()=>[t(y,{modelValue:l.value.department,"onUpdate:modelValue":a[4]||(a[4]=e=>l.value.department=e),items:S.value,label:"Departemen",placeholder:"Select Item"},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",sm:"6"},{default:o(()=>[t(n,{modelValue:l.value.email,"onUpdate:modelValue":a[5]||(a[5]=e=>l.value.email=e),label:"Email",placeholder:"johndoe@email.com"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",sm:"6"},{default:o(()=>[t(n,{modelValue:l.value.username,"onUpdate:modelValue":a[6]||(a[6]=e=>l.value.username=e),label:"Username",placeholder:"John"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",sm:"6"},{default:o(()=>[t(n,{modelValue:l.value.password,"onUpdate:modelValue":a[7]||(a[7]=e=>l.value.password=e),label:"Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",sm:"6"},{default:o(()=>[t(n,{modelValue:l.value.confirmPassword,"onUpdate:modelValue":a[8]||(a[8]=e=>l.value.confirmPassword=e),label:"Confirm Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(P,{class:"d-flex justify-end flex-wrap gap-3"},{default:o(()=>[t(C,{variant:"tonal",color:"secondary",onClick:a[9]||(a[9]=e=>i.value=!1)},{default:o(()=>[m(" Tutup ")]),_:1}),t(C,{disabled:l.value.confirmPassword==""||l.value.password!==l.value.confirmPassword,onClick:R},{default:o(()=>[m(" Simpan ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):p("",!0)])]),_:1}),t(z),t(ne,{"items-per-page":f.value,"onUpdate:itemsPerPage":a[12]||(a[12]=e=>f.value=e),page:w.value,"onUpdate:page":a[13]||(a[13]=e=>w.value=e),items:h.value,"items-length":D.value,headers:O,class:"text-no-wrap"},{"item.number":o(({index:e})=>[m(g(e+1),1)]),"item.id":o(({item:e})=>[V("div",de,[V("div",pe,[V("h6",ce,[d(_).user_type=="admin"?(u(),v(G,{key:0,to:{name:"apps-user-view-id",params:{id:e.id}},class:"font-weight-medium text-link"},{default:o(()=>[m(g(e.fullname),1)]),_:2},1032,["to"])):p("",!0),d(_).user_type!="admin"?(u(),I("p",fe,g(e.fullname),1)):p("",!0)])])])]),"item.status":o(({item:e})=>[t(re,{color:J(e.status),size:"small",label:"",class:"text-capitalize"},{default:o(()=>[m(g(e.status),1)]),_:2},1032,["color"])]),"item.actions":o(({item:e})=>[t(k,{onClick:B=>b(e.id)},{default:o(()=>[t(x,{icon:"tabler-eye"})]),_:2},1032,["onClick"]),t(k,{onClick:B=>b(e.id)},{default:o(()=>[t(x,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),d(_).user_type=="admin"?(u(),v(k,{key:0,onClick:B=>b(e.id)},{default:o(()=>[t(x,{icon:"tabler-trash"})]),_:2},1032,["onClick"])):p("",!0)]),bottom:o(()=>[t(F,{page:w.value,"onUpdate:page":a[11]||(a[11]=e=>w.value=e),"items-per-page":f.value,"total-items":D.value},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})}}});export{Je as default};
