import{_ as O}from"./VCheckboxBtn-CLFp1Qrm.js";import{d as X,ai as Y,r as n,n as o,o as v,g as Z,f as t,b as e,e as a,x as i,v as m,a0 as C,a2 as V,c as S,i as L,F as U,a5 as R,a6 as A,z as ee}from"./main-CjhWd0RR.js";import{u as E}from"./useApi-DNxcJoEW.js";import{V as h}from"./VCard-CPj4koLP.js";import{V as p}from"./VCardText-Y8mTVUki.js";import{V as j}from"./VChip-BvR_Hkvf.js";import{V as F}from"./VAvatar-DpZSgM_5.js";import{a as r,V as x}from"./VRow-BXhXyZ4Y.js";import{V as te,a as ae,c as B,b as se}from"./VWindowItem-Dg__FnIK.js";import{V as $}from"./VForm-CNjnD0Wf.js";import{V as D}from"./VDivider-DMlqEqO8.js";import{V as G,a as le}from"./VDataTableServer-CM8aA-P2.js";import"./VTextField-CTJ8KFQw.js";import"./index-B7BgF3AZ.js";import"./VImg-D-venaag.js";import"./VOverlay-gKh2FHNL.js";/* empty css              */import"./VList-CnJSRsO-.js";import"./VSelect-DFwwNRpV.js";import"./VMenu-CMlf_oYX.js";const oe={class:"text-h5 mt-4"},ne={class:"d-flex justify-center gap-y-2 flex-wrap mb-6"},ie={class:"d-flex align-center me-8"},re={class:"text-h5"},ce=a("span",{class:"text-xs"},"Rp.",-1),ue=a("span",{class:"text-sm"},"Estimasi Gaji",-1),de={class:"d-flex align-center me-4"},me={class:"text-h5"},pe=a("span",{class:"text-xs"},"Pcs",-1),fe=a("span",{class:"text-sm"},"Selesai",-1),_e=a("h5",{class:"text-h5"},"Daftar Gaji",-1),he={class:"d-flex align-center gap-x-4"},xe={class:"d-flex flex-column"},be={class:"text-base"},ye={class:"font-weight-medium text-link"},ge=a("h5",{class:"text-h5"},"Daftar Bonus & Tunjangan",-1),ve={class:"d-flex align-center gap-x-4"},Ve={class:"d-flex flex-column"},we={class:"text-base"},ke={class:"font-weight-medium text-link"},Pe=a("h5",{class:"text-h5"},"Daftar Slip Gaji",-1),Ce={class:"d-flex align-center gap-x-4 pa-3"},Se={class:"d-flex flex-column"},je={class:"text-base"},Be=a("thead",null,[a("tr",null,[a("th",null,"Nama Aktifitas"),a("th",null,"Gaji"),a("th",null,"Kuantiti"),a("th",null,"Sub Total")])],-1),De={class:"text-body-1"},Ge={class:"text-body-1"},Te={class:"text-body-1"},ze={class:"text-body-1"},Ne={class:"d-flex align-center gap-x-4"},Le={class:"d-flex flex-column"},Ue={class:"text-base"},Re={class:"font-weight-medium text-link"},it=X({__name:"profile",setup(Ae){const T=Y("userData"),w=n(10),k=n(1);n(),n(!1),n(!1);const f=n(null),M=[{icon:"tabler-users",title:"Akun"},{icon:"tabler-bookmark",title:"Gaji"},{icon:"tabler-bookmark",title:"Slip Gaji"}];n({task_type_id:"Pilih Tugas",product_id:"Pilih Produk",amount:null}),n({name:"",amount:null});const b=n(!1),y=n(!1),u=n({}),I=[{title:"#",key:"number",width:"5%"},{title:"Detail",key:"payslipitems"},{title:"Total",key:"total"},{title:"Status",key:"status"}],J=[{title:"Nama Gaji",key:"name"},{title:"Nominal (Per Pcs)",key:"amount"}],K=[{title:"Nama Bonus",key:"name"},{title:"Nominal (Per Minggu)",key:"amount"}],z=n([{name:"Buang Benang Mukena",amount:200},{name:"Buang Benang Kerudung",amount:2e3}]),N=n([{name:"Jabatan",amount:200}]);n([]);const P=n([]);n([]),(async()=>{var c;try{const s=await E("/payslips?employee_id="+((c=T.value)==null?void 0:c.employee.id),{method:"GET"});if(s.data.value){const d=await s.data.value;console.log(d),P.value=d.data}}catch(s){console.error(s)}})(),(async()=>{var d;const s=await(await E("/employees/"+((d=T.value)==null?void 0:d.employee.id))).data.value;u.value=s.data,console.log(s),z.value=s.data.salaries,N.value=s.data.benefits})();const _=c=>`${c.toLocaleString("id-ID")}`,W=c=>{switch(c){case"Jahit":return{color:"warning",icon:"tabler-user"};case"QC":return{color:"success",icon:"tabler-circle-check"};default:return{color:"primary",icon:"tabler-user"}}},q=c=>{switch(c.toLowerCase()){case"inactive":return{color:"warning",icon:"tabler-user"};case"pending":return{color:"warning",icon:"tabler-user"};case"active":return{color:"success",icon:"tabler-circle-check"};case"paid":return{color:"success",icon:"tabler-circle-check"};default:return{color:"primary",icon:"tabler-user"}}},Q=c=>{const s=c.toLowerCase();return s==="pending"?"warning":s==="active"?"success":s==="inactive"?"secondary":"primary"};return(c,s)=>{const d=O;return o(u).department?(v(),Z(x,{key:0},{default:t(()=>[e(r,{cols:"12",md:"5",lg:"4"},{default:t(()=>[e(h,null,{default:t(()=>[e(p,{class:"text-center pt-12"},{default:t(()=>[a("h5",oe,i(o(u).fullname),1),e(j,{color:W(o(u).department.name).color,label:"",size:"small",class:"text-capitalize mt-4"},{default:t(()=>[m(i(o(u).department.name),1)]),_:1},8,["color"]),e(j,{color:q(o(u).status).color,label:"",size:"small",class:"text-capitalize mt-4 ml-5"},{default:t(()=>[m(i(o(u).status),1)]),_:1},8,["color"]),e(p,{class:"px-0"},{default:t(()=>[a("div",ne,[a("div",ie,[e(F,{size:30,rounded:"",color:"primary",variant:"tonal",class:"me-4"},{default:t(()=>[e(C,{icon:"tabler-checkbox",size:"24"})]),_:1}),a("div",null,[a("h5",re,[ce,m(" "+i(_(o(u).estSalary)),1)]),ue])]),a("div",de,[e(F,{size:30,rounded:"",color:"primary",variant:"tonal",class:"me-4"},{default:t(()=>[e(C,{icon:"tabler-briefcase",size:"24"})]),_:1}),a("div",null,[a("h5",me,[m(i(o(u).totalActivities)+" ",1),pe]),fe])])])]),_:1})]),_:1})]),_:1})]),_:1}),e(r,{cols:"12",md:"7",lg:"8"},{default:t(()=>[e(te,{modelValue:o(f),"onUpdate:modelValue":s[0]||(s[0]=l=>V(f)?f.value=l:null),class:"v-tabs-pill"},{default:t(()=>[(v(),S(U,null,L(M,l=>e(se,{key:l.icon},{default:t(()=>[e(C,{size:18,icon:l.icon,class:"me-1"},null,8,["icon"]),a("span",null,i(l.title),1)]),_:2},1024)),64))]),_:1},8,["modelValue"]),e(ae,{modelValue:o(f),"onUpdate:modelValue":s[6]||(s[6]=l=>V(f)?f.value=l:null),class:"mt-6 disable-tab-transition",touch:!1},{default:t(()=>[e(B,null,{default:t(()=>[e(x,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(h,{title:"Ganti Username"},{default:t(()=>[e(p,null,{default:t(()=>[e($,{onSubmit:R(()=>{},["prevent"])},{default:t(()=>[e(x,null,{default:t(()=>[e(r,{cols:"12",md:"6"},{default:t(()=>[e(d,{label:"Username Lama",modelValue:o(u).user.username,"onUpdate:modelValue":s[1]||(s[1]=l=>o(u).user.username=l),placeholder:"",disabled:!0,type:"text"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(d,{label:"Username Baru",placeholder:"username",type:"text"})]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(A,{type:"submit"},{default:t(()=>[m(" Simpan ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(h,{title:"Ganti Password"},{default:t(()=>[e(p,null,{default:t(()=>[e($,{onSubmit:R(()=>{},["prevent"])},{default:t(()=>[e(x,null,{default:t(()=>[e(r,{cols:"12",md:"6"},{default:t(()=>[e(d,{label:"New Password",placeholder:"············",type:o(b)?"text":"password","append-inner-icon":o(b)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[2]||(s[2]=l=>b.value=!o(b))},null,8,["type","append-inner-icon"])]),_:1}),e(r,{cols:"12",md:"6"},{default:t(()=>[e(d,{label:"Confirm Password",placeholder:"············",type:o(y)?"text":"password","append-inner-icon":o(y)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[3]||(s[3]=l=>y.value=!o(y))},null,8,["type","append-inner-icon"])]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(A,{type:"submit"},{default:t(()=>[m(" Simpan ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(B,null,{default:t(()=>[e(x,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(h,null,{default:t(()=>[e(p,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:t(()=>[_e]),_:1}),e(D),e(G,{itemsLength:5,headers:J,items:o(z),"items-per-page":5},{"item.amount":t(({item:l})=>[a("div",he,[a("div",xe,[a("h6",be,[a("p",ye,i(_(l.amount)),1)])])])]),_:1},8,["items"])]),_:1})]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(h,null,{default:t(()=>[e(p,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:t(()=>[ge]),_:1}),e(D),e(G,{itemsLength:5,headers:K,items:o(N),"items-per-page":5},{"item.amount":t(({item:l})=>[a("div",ve,[a("div",Ve,[a("h6",we,[a("p",ke,i(_(l.amount)),1)])])])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(B,null,{default:t(()=>[e(x,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(h,null,{default:t(()=>[e(p,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:t(()=>[Pe]),_:1}),e(D),e(G,{"items-per-page":o(w),"onUpdate:itemsPerPage":s[4]||(s[4]=l=>V(w)?w.value=l:null),page:o(k),"onUpdate:page":s[5]||(s[5]=l=>V(k)?k.value=l:null),"items-length":o(P).values.length,items:o(P),headers:I,class:"text-no-wrap"},{"item.number":t(({index:l})=>[m(i(l+1),1)]),"item.payslipitems":t(({item:l})=>[a("div",Ce,[a("div",Se,[a("h6",je,[e(le,{class:"text-no-wrap border"},{default:t(()=>[Be,a("tbody",null,[(v(!0),S(U,null,L(l.payslip_items,(g,H)=>(v(),S("tr",{key:H},[a("td",De,i(g.activityName),1),a("td",Ge," Rp. "+i(_(g.salary)),1),a("td",Te,i(g.quantity)+" Pcs ",1),a("td",ze," Rp. "+i(_(g.total)),1)]))),128))])]),_:2},1024)])])])]),"item.total":t(({item:l})=>[a("div",Ne,[a("div",Le,[a("h6",Ue,[a("p",Re," Rp. "+i(_(l.total)),1)])])])]),"item.status":t(({item:l})=>[e(j,{color:Q(l.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[m(i(l.status),1)]),_:2},1032,["color"])]),_:1},8,["items-per-page","page","items-length","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):ee("",!0)}}});export{it as default};
